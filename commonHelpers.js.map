{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/js/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst key = \"live_xMPWYNspoKZWsSTxOBE4NVcN9Qc034AOnujPVcntJFWwJdwtdhebGWpMVMRJX65L\";\n\nexport function fetchBreeds() {\n  axios.defaults.headers.common[\"x-api-key\"] = key;\n\n  return axios({\n    method: 'get',\n    url: 'https://api.thecatapi.com/v1/breeds',\n    responseType: 'json',\n  });\n}\n\nexport function fetchCatByBreed(breedId)  {\n  axios.defaults.headers.common[\"x-api-key\"] = key;\n  let url = `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`;\n\n  if (breedId === 0) {\n    url = 'https://api.thecatapi.com/v1/images/searchfailedrequest';\n  }\n\n  return axios({\n    method: 'get',\n    url,\n    responseType: 'json',\n  });\n}\n","import { fetchBreeds, fetchCatByBreed } from './cat-api';\n\nconst select = document.querySelector('.breed-select');\nconst loader = document.querySelector('.loader');\nconst error = document.querySelector('.error');\nconst info = document.querySelector('.cat-info');\n\nfunction startLoading() {\n  info.classList.add('hidden');\n  info.innerHTML = '';\n  loader.classList.remove('hidden');\n  \n}\n\nfunction finishedLoading() {\n  loader.classList.add('hidden');\n  info.classList.remove('hidden');\n}\n\nfunction hadleError(e) {\n  console.log(e);\n  loader.classList.add('hidden');\n  select.classList.add('hidden');\n  error.classList.remove('hidden');\n}\n\nfetchBreeds()\n.then(({ data}) => {\n  let options = '<option value=\"0\">Failed request</option>';\n\n  for (const item of data) {\n    options += `<option value=\"${item.id}\">${item.name}</option>`;\n  }\n\n  select.innerHTML = options;\n  finishedLoading();\n  select.classList.remove('hidden');\n})\n.catch(hadleError);\n\nselect?.addEventListener('change', e => {\n  startLoading();\n\n  fetchCatByBreed(e.target.value)\n  .then(({ data }) => {\n    console.log(data);\n    const cat = data[0].breeds[0]\n    info.innerHTML = `\n      <div class=\"image\">\n        <img src=\"${data[0].url}\" alt=\"${cat.name}\" />\n      </div>\n\n      <div>\n        <h1>${cat.name}</h1>\n\n        <p class=\"description\">${cat.description}</p>\n\n        <p class=\"temperament\"><strong>Temperament:</strong> ${cat.temperament}</p>\n      </div>\n    `;\n    finishedLoading();\n  })\n  .catch(hadleError);\n});\n"],"names":["key","fetchBreeds","axios","fetchCatByBreed","breedId","url","select","loader","error","info","startLoading","finishedLoading","hadleError","e","data","options","item","cat"],"mappings":"svBAEA,MAAMA,EAAM,wEAEL,SAASC,GAAc,CAC5B,OAAAC,EAAM,SAAS,QAAQ,OAAO,WAAW,EAAIF,EAEtCE,EAAM,CACX,OAAQ,MACR,IAAK,sCACL,aAAc,MAClB,CAAG,CACH,CAEO,SAASC,EAAgBC,EAAU,CACxCF,EAAM,SAAS,QAAQ,OAAO,WAAW,EAAIF,EAC7C,IAAIK,EAAM,wDAAwDD,CAAO,GAEzE,OAAIA,IAAY,IACdC,EAAM,2DAGDH,EAAM,CACX,OAAQ,MACR,IAAAG,EACA,aAAc,MAClB,CAAG,CACH,CCzBA,MAAMC,EAAS,SAAS,cAAc,eAAe,EAC/CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAQ,SAAS,cAAc,QAAQ,EACvCC,EAAO,SAAS,cAAc,WAAW,EAE/C,SAASC,GAAe,CACtBD,EAAK,UAAU,IAAI,QAAQ,EAC3BA,EAAK,UAAY,GACjBF,EAAO,UAAU,OAAO,QAAQ,CAElC,CAEA,SAASI,GAAkB,CACzBJ,EAAO,UAAU,IAAI,QAAQ,EAC7BE,EAAK,UAAU,OAAO,QAAQ,CAChC,CAEA,SAASG,EAAWC,EAAG,CACrB,QAAQ,IAAIA,CAAC,EACbN,EAAO,UAAU,IAAI,QAAQ,EAC7BD,EAAO,UAAU,IAAI,QAAQ,EAC7BE,EAAM,UAAU,OAAO,QAAQ,CACjC,CAEAP,EAAa,EACZ,KAAK,CAAC,CAAE,KAAAa,CAAI,IAAM,CACjB,IAAIC,EAAU,4CAEd,UAAWC,KAAQF,EACjBC,GAAW,kBAAkBC,EAAK,EAAE,KAAKA,EAAK,IAAI,YAGpDV,EAAO,UAAYS,EACnBJ,IACAL,EAAO,UAAU,OAAO,QAAQ,CAClC,CAAC,EACA,MAAMM,CAAU,EAEjBN,GAAA,MAAAA,EAAQ,iBAAiB,SAAUO,GAAK,CACtCH,IAEAP,EAAgBU,EAAE,OAAO,KAAK,EAC7B,KAAK,CAAC,CAAE,KAAAC,KAAW,CAClB,QAAQ,IAAIA,CAAI,EAChB,MAAMG,EAAMH,EAAK,CAAC,EAAE,OAAO,CAAC,EAC5BL,EAAK,UAAY;AAAA;AAAA,oBAEDK,EAAK,CAAC,EAAE,GAAG,UAAUG,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA,cAInCA,EAAI,IAAI;AAAA;AAAA,iCAEWA,EAAI,WAAW;AAAA;AAAA,+DAEeA,EAAI,WAAW;AAAA;AAAA,MAG1EN,GACJ,CAAG,EACA,MAAMC,CAAU,CACnB"}